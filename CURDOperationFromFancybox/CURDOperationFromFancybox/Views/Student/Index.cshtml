@model IEnumerable<CURDOperationFromFancybox.Models.StudentInformation>
@{
    ViewBag.Title = "Index";
}

<script src="~/Scripts/jquery-1.8.2.min.js"></script>
<script src="~/Scripts/jquery.mousewheel-3.0.6.pack.js"></script>
<script src="~/Scripts/jquery.fancybox.js?v=2.1.3"></script>
<link href="~/Content/jquery.fancybox.css?v=2.1.2" rel="stylesheet" media="screen" />
<link href="~/Scripts/jquery.fancybox.css" rel="stylesheet" />


<h2>Student</h2>
<p>
    <a class="createEditStudent btn btn-primary" data-fancybox-type="iframe" href="@Url.Action("Create", "Student")">Create New Student</a>
</p>
<table class="table">
    <tr>
        <th>
            @Html.DisplayNameFor(model => model.FirstName)
        </th>
        <th>
            @Html.DisplayNameFor(model => model.LastName)
        </th>
        <th>
            @Html.DisplayNameFor(model => model.Course)
        </th>
        <th>
            @Html.DisplayNameFor(model => model.PhoneNo)
        </th>
        <th></th>
    </tr>

@foreach (var item in Model) {
    <tr>
        <td>
            @Html.DisplayFor(modelItem => item.FirstName)
        </td>
        <td>
            @Html.DisplayFor(modelItem => item.LastName)
        </td>
        <td>
            @Html.DisplayFor(modelItem => item.Course)
        </td>
        <td>
            @Html.DisplayFor(modelItem => item.PhoneNo)
        </td>
        <td>
            <a class="createEditStudent btn btn-primary" data-fancybox-type="iframe" href="@Url.Action("Edit", "Student", new {id=item.ID })">Edit</a>
            <a class="createEditStudent btn btn-primary" data-fancybox-type="iframe" href="@Url.Action("Details", "Student", new { id = item.ID })">Details</a>
            <a class="createEditStudent btn btn-danger" data-fancybox-type="iframe" href="@Url.Action("Delete", "Student", new {id=item.ID })">Delete</a>
        </td>
    </tr>
}

</table>

<script type="text/javascript">
    $(document).ready(function () {
        $('.createEditStudent').fancybox({
            fitToView: false,
            width: '600px',
            height: '400px',
            autoSize: false,
            closeClick: false,
            openEffect: 'none',
            closeEffect: 'none',
            padding: 0,
            closeBtn: false,
            'afterClose': function () {
                window.location.reload();
            },

        });
    });
</script>